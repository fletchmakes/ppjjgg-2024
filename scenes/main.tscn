[gd_scene load_steps=9 format=3 uid="uid://ckhmm36sa88xv"]

[ext_resource type="PackedScene" uid="uid://bvw0ypa3tkwga" path="res://scenes/interactable.tscn" id="2_e4gkq"]
[ext_resource type="Script" path="res://scripts/DialogueLayer.gd" id="2_uga1u"]
[ext_resource type="Script" path="res://scripts/Camera3D.gd" id="3_0qm8k"]
[ext_resource type="PackedScene" uid="uid://kckhnjx3gg0o" path="res://scenes/dialogue_scene.tscn" id="4_lbbjr"]
[ext_resource type="Script" path="res://scripts/Pivot.gd" id="5_4vp4n"]
[ext_resource type="PackedScene" uid="uid://dsberelpj75c1" path="res://scenes/startup_scene.tscn" id="5_km7y5"]
[ext_resource type="PackedScene" uid="uid://dnxtiehwwe2ob" path="res://art/3d assets/environment/placeholder.tscn" id="7_32ewn"]

[sub_resource type="ImageTexture" id="ImageTexture_jfkdy"]

[node name="Main" type="Node3D"]

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.108495, 0)
texture = SubResource("ImageTexture_jfkdy")

[node name="Interactable" parent="Sprite3D" instance=ExtResource("2_e4gkq")]

[node name="Outline" parent="Sprite3D/Interactable/MeshInstance3D" index="0"]
gi_mode = 0
gi_lightmap_scale = 2

[node name="DialogueLayer" type="CanvasLayer" parent="."]
script = ExtResource("2_uga1u")
text_speed = 0.05

[node name="DialogueUI" parent="DialogueLayer" instance=ExtResource("4_lbbjr")]

[node name="MainMenu" parent="DialogueLayer" instance=ExtResource("5_km7y5")]

[node name="Pivot" type="Node3D" parent="."]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 0, 0)
script = ExtResource("5_4vp4n")
rotation_speed = 1.2

[node name="Camera3D" type="Camera3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866026, 0, 2, 2)
projection = 1
fov = 17.5
size = 5.0
near = 0.001
script = ExtResource("3_0qm8k")

[node name="OmniLight3D" type="OmniLight3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.78583, 2.17891)

[node name="Room" parent="." instance=ExtResource("7_32ewn")]

[node name="Interactables" type="Node3D" parent="."]

[node name="Object1" parent="Interactables" instance=ExtResource("2_e4gkq")]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0.675938, 1.14203, -1.14599)

[node name="Object2" parent="Interactables" instance=ExtResource("2_e4gkq")]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -0.901299, 1.49729, -0.728421)

[node name="Object3" parent="Interactables" instance=ExtResource("2_e4gkq")]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -0.21138, 0.122301, -1.11648)

[connection signal="input_event" from="Sprite3D/Interactable" to="Pivot/Camera3D" method="_on_interactable_input_event"]
[connection signal="mouse_entered" from="Sprite3D/Interactable" to="Pivot/Camera3D" method="_on_interactable_mouse_entered"]
[connection signal="mouse_exited" from="Sprite3D/Interactable" to="Pivot/Camera3D" method="_on_interactable_mouse_exited"]
[connection signal="input_event" from="Interactables/Object1" to="Pivot/Camera3D" method="_on_object_1_input_event"]
[connection signal="mouse_entered" from="Interactables/Object1" to="Pivot/Camera3D" method="_on_object_1_mouse_entered"]
[connection signal="mouse_exited" from="Interactables/Object1" to="Pivot/Camera3D" method="_on_object_1_mouse_exited"]
[connection signal="input_event" from="Interactables/Object2" to="Pivot/Camera3D" method="_on_object_2_input_event"]
[connection signal="mouse_entered" from="Interactables/Object2" to="Pivot/Camera3D" method="_on_object_2_mouse_entered"]
[connection signal="mouse_exited" from="Interactables/Object2" to="Pivot/Camera3D" method="_on_object_2_mouse_exited"]
[connection signal="input_event" from="Interactables/Object3" to="Pivot/Camera3D" method="_on_object_3_input_event"]
[connection signal="mouse_entered" from="Interactables/Object3" to="Pivot/Camera3D" method="_on_object_3_mouse_entered"]
[connection signal="mouse_exited" from="Interactables/Object3" to="Pivot/Camera3D" method="_on_object_3_mouse_exited"]

[editable path="Sprite3D/Interactable"]
[editable path="Interactables/Object1"]
[editable path="Interactables/Object2"]
[editable path="Interactables/Object3"]
